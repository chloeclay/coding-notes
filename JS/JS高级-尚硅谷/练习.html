<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS进阶练习</title>
    <script>
        // var a = {age:20};
        // function func(obj) {
        //     obj = {age:25};
        //     return obj.age;
        // }
        // console.log(func(a)); // 25
        // console.log(a.age); //20

        // ;(function () {
        //     var a = 1
        //     function test () {
        //     console.log(++a)
        //     }
        //     window.$ = function () { // 向外暴露一个全局函数$
        //         return {
        //             name: test
        //         }
        //     }
        // })()
        // $().name() // 1. $是一个函数名 2. $执行后返回的是一个对象    
        
        
        // var a = null,
        //     b = {},
        //     c = [],
        //     d = undefined
        // console.log(typeof a)
        // console.log(typeof b)
        // console.log(typeof c)
        // console.log(typeof d)
        // console.log(a instanceof Object)
        // console.log(b instanceof Object)
        // console.log(a === null);
        // console.log(d === undefined);
        // console.log(a == d);
        // console.log(a !== d);


        // // 原型链> 
        //     function Fn (){
        //         this.test1 = function (){
        //             console.log(this)
        //         }
        //     }
        //     Fn.prototype.test2 = function () {
        //         console.log(this)
        //     }
        //     var fn = new Fn()
        //     // console.log(Fn.test1());
        //     console.log(fn.test1())
        //     // console.log(fn.test2());
        //     // console.log (fn.toString())

    // 函数提升
        // var b = 2;
        // if (!(b in window)) {
        //     var b = 1
        // }
        // console.log(b) 


    // 上下文栈
        // 1
        // console.log('gb: ' + i)
        // var i = 1
        // foo(1)
        // function foo(i) {
        //     if (i == 4) {
        //         return
        //     }
        //     console.log('fb:' + i)
        //     foo(i + 1) //递归调用: 在函数内部调用自己
        //     console.log('fe:' + i)
        // }
        // console.log('ge: ' + i)
        // 2
        // function a() { }
        // var a
        // console.log(typeof a)
        // 3
        // if (b in window) {
        //         alert('执行了if语句')
        //         var b = 1
        //     }else{
        //         alert("未执行if语句")
        //     }
        //     console.log(b)
        // // 4
        // // var c = 1
        // // function c(c) {
        // //     console.log(c)
        // //     var c = 3
        // // }
        // // c(2)
        // 5
        // var fn = function () {
        //     console.log(fn)
        // }
        // fn()
        // var obj = {
        //     fn2: function () {
        //         console.log(obj.fn2)
        //     }
        // }
        // obj.fn2()
    // 闭包
        // function fn1() {
        // var a = 2
        // function fn2() {
        //   a++ 
        //   console.log(a)
        // }
        // return fn2
        // }
        // // var f = fn1()

        // fn1()() // 3
        // fn1()() // 3
    // 闭包生命周期
        // function fun(n, o) {
        //     console.log(o)
        //     return {
        //         fun: function (m) {
        //             return fun(m, n)
        //         }
        //     }
        // }
        // var a = fun(0)
        // a.fun(1)
        // a.fun(2)
        // a.fun(3)//undefined,0,0,0

        // var b = fun(0).fun(1).fun(2).fun(3)//undefined,0,1,2

        // var c = fun(0).fun(1)
        // c.fun(2)
        // c.fun(3)//undefined,0,1,1
    
    // H5 html worker
    // 斐波那契数列
   window.onload = function () { 
       var input = document.getElementById('inputValue')
       var btn = document.getElementById('btn')
        btn.onclick = function () {
        var num = input.value
            var worker = new Worker('worker.js')
            worker.onmessage = function (event) {
                event.data
            }
            worker.postMessage(num)
        }
    }
    </script>
</head>
<body>
    <h1>斐波那契数列</h1>
    <input type="number" name="请输入位数" id="inputValue">
    <button id="btn">计算数值</button>
</body>
</html>